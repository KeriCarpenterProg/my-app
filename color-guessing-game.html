<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Keri's Practice</title>
  </head>
  <body>
    <h1>Color Guessing Game</h1>
    <p>This is a practice application for a class that I am taking.</p>
    <p>
      I will generate a random color from a pre-defined array of colors and you
      will guess which one got selected.
    </p>
    <p>The randomly generated color is displayed in the console.</p>
    <p>
      There will be different types of output based on whether it matches or
      not.
    </p>
    <p>
      After you guess the correct color, the background of the main page will
      turn that color.
    </p>
    <p>The interaction is all within an alert box.</p>
    <button type="button" onClick="runGame()">Start Game</button>
    <script>
      const COLORS_ARRAY = [
        "blue",
        "cyan",
        "gold",
        "gray",
        "green",
        "magenta",
        "orange",
        "red",
        "white",
        "yellow",
      ];
      let numTries = 0;
      function runGame() {
        let guess = "";
        numTries = 0;
        let correct = false;
        let randomNumber = Math.random();
        const targetIndex = Math.floor(randomNumber * COLORS_ARRAY.length);
        const target = COLORS_ARRAY[targetIndex];
        console.log(
          "Index is " +
            targetIndex +
            ".  Value is " +
            target +
            " Is the value of correct false? " +
            correct
        );
        do {
          guess = prompt(
            "I am thinking of one of these colors:\n\n" +
              COLORS_ARRAY.join(", ") +
              "\n\nWhat color am I thinking of?\n\nJust for reference, the randomly generated color is " +
              target +
              "\n\n"
          );
          numTries += 1;
          if (guess === null) return;
          correct = checkGuess(guess, target);
        } while (correct === false);
      }

      function checkGuess(guess, target) {
        let correct = false;
        if (!COLORS_ARRAY.includes(guess)) {
          alert("That isn't a color in the array!");
        } else if (guess > target) {
          alert("Your guess is greater than the color.  Please guess again.");
        } else if (guess < target) {
          alert("Your guess is less than the target.  Please guess again.");
        } else if (guess == target) {
          document.body.style.backgroundColor = guess;
          alert(
            "You are right!  The number of tries you took to guess this was " +
              numTries
          );
          correct = true;
        }
        return correct;
      }
    </script>
  </body>
</html>
